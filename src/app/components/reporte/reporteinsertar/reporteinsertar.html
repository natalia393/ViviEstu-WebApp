<div class="auth-layout">

  <!-- =============== COLUMNA IZQUIERDA =============== -->
  <div class="auth-left">
    <img src="assets/inserts/reporte.jpg" alt="Reportes ViviEstu">

    <div class="left-text">
      <h1>Reportes Inteligentes ðŸ“Š</h1>
      <p>Crea, edita y gestiona reportes basados en datos JSON para anÃ¡lisis estudiantil.</p>
    </div>
  </div>

  <!-- =============== COLUMNA DERECHA =============== -->
  <div class="auth-right">

    <div class="form-box">

      <h2>{{ edicion ? 'Editar Reporte' : 'Registrar Reporte' }}</h2>

      <form [formGroup]="form" (submit)="aceptar()">

        @if (edicion) {
          <mat-form-field appearance="outline">
            <mat-label>ID Reporte</mat-label>
            <input matInput formControlName="idReporte" />
          </mat-form-field>
        }

        <mat-form-field appearance="outline">
          <mat-label>TÃ­tulo</mat-label>
          <input matInput formControlName="titulo" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Contenido (JSON)</mat-label>
          <textarea matInput rows="6" formControlName="contenidoJson" required></textarea>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Usuario</mat-label>
          <mat-select formControlName="usuario" required>
            @for (u of listaUsuarios; track u.idUsuario) {
              <mat-option [value]="u.idUsuario">{{ u.username }}</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <button matButton="elevated">
          {{ edicion ? 'Actualizar' : 'Registrar' }}
        </button>

        <button matButton routerLink="/homes" style="margin-top: 10px;">
          Volver
        </button>

      </form>

    </div>

  </div>

</div>
